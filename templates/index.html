<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Seoul Crime Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- ===== Bootstrap & Keen CSS (CDN 기반: 깨질 확률 0%) ===== -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='lib/css/keen-dashboards.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='lib/css/dc.css') }}">

  <!-- ===== Custom CSS (없어도 괜찮음) ===== -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">

  <!-- ===== Dashboard Layout Styling ===== -->
  <style>
    body { padding-top: 60px; }

    .navbar-brand { font-weight: 600; }

    .panel {
      border-radius: 4px;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    }
    .panel-heading { font-weight: 600; }

    #year-chart,
    #crime-rate-chart {
      min-height: 250px;
    }

    #seoul-map {
      min-height: 350px;
      height: 350px;
      fill-opacity: 1 !important;
    }

    .dc-chart svg {
      width: 100%;
      height: 100%;
    }

    .metric {
      text-align: center;
      padding: 40px 10px;
      font-family: "Helvetica Neue", Arial, sans-serif;
    }
    .metric-value {
      font-size: 64px;
      font-weight: 700;
    }
    .metric-label {
      margin-top: 10px;
      font-size: 18px;
      color: #777;
    }
  </style>
</head>

<body>

  <!-- ===== Navigation Bar ===== -->
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand">Seoul Crime Dashboard</a>
      </div>
    </div>
  </nav>

  <!-- ===== Main Container ===== -->
  <div class="container-fluid">

    <div class="row">

      <!-- ===== Left Column (Year + Histogram) ===== -->
      <div class="col-md-6">

        <div class="panel panel-default">
          <div class="panel-heading">Crime Records by Year</div>
          <div class="panel-body">
            <div id="year-chart" class="dc-chart"></div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading">Crime Rate Distribution</div>
          <div class="panel-body">
            <div id="crime-rate-chart" class="dc-chart"></div>
          </div>
        </div>

      </div>

      <!-- ===== Right Column (Map + Total Records) ===== -->
      <div class="col-md-6">

        <div class="panel panel-default">
          <div class="panel-heading">Crime Rate by District</div>
          <div class="panel-body">
            <div id="seoul-map" class="dc-chart"></div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading">Total Records</div>
          <div class="panel-body">
            <div class="metric">
              <div id="total-count-nd" class="metric-value"></div>
              <div class="metric-label">Total crime records in dataset</div>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

  <!-- ===== Scripts ===== -->
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/queue.v1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.js"></script>

  <script src="{{ url_for('static', filename='js/graphs.js') }}"></script>

</body>
</html>
